<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>가위바위보 게임 만들기</title>
<style type="text/css">
/* 페이지의 기본 스타일을 정의하는 CSS 코드 */
body {
	text-align: center; /* 텍스트를 중앙 정렬 */
	font-family: Arial, sans-serif; /* 글꼴을 Arial로 설정 */
	background-color: #f4f4f4; /* 배경색을 밝은 회색으로 설정 */
	margin: 0; /* 페이지의 기본 여백을 없앰 */
	padding: 20px; /* 페이지 전체에 20px의 패딩(여백)을 줌 */
}

/* 선택지 이미지를 담는 컨테이너 스타일 */
.choices {
	display: flex; /* 아이템을 가로로 정렬 */
	justify-content: center; /* 아이템들을 중앙에 배치 */
	margin-top: 20px; /* 선택지 이미지 위에 20px 간격 */
	gap: 20px;
}

/* 각 이미지에 대한 스타일 */
.choices img {
	width: 100px; /* 이미지의 가로 크기를 100px로 설정 */
	height: 100px; /* 이미지의 세로 크기를 100px로 설정 */
	margin: 0 20px; /* 각 이미지 간격을 좌우로 20px 설정 */
	cursor: pointer; /* 이미지 위에 커서를 올리면 포인터 모양으로 변경 */
}

/* 결과 텍스트의 스타일 */
.result {
	margin-top: 30px; /* 결과 텍스트 위에 30px 간격 */
	font-size: 30px; /* 텍스트의 크기를 30px로 설정 */
	font-weight: bold; /* 텍스트를 굵게 표시 */
}

/* 남은 금액과 베팅 금액 텍스트의 스타일 */
.status {
	margin-top: 20px; /* 상태 텍스트 위에 20px 간격 */
	font-size: 20px; /* 텍스트 크기를 20px로 설정 */
	font-weight: bold; /* 텍스트를 굵게 표시 */
}
</style>
</head>
<body>

	<h1>가위 바위 보 게임</h1>

	<!-- 입력 -->
	<div>
		<!-- 사용자가 초기 금액을 입력할 수 있는 입력 필드와 게임을 시작하는 버튼 -->
		<label for="money">초기 금액을 입력하세요 (원): </label> 
		<input type="number" id="money" value="1000"> <!-- 숫자를 입력받을 수 있는 input 필드 -->
		<button onclick="startGame()">게임 시작</button> <!-- 버튼을 누르면 startGame() 함수가 실행됨 -->
	</div>

	<!-- 선택 -->
	<div class="choises" id="gameArea" style="display: none;">
		<!-- 가위, 바위, 보 이미지 버튼을 클릭하면 각각 'Game' 함수가 호출됨 -->
		<img src="../image/rock.png" alt="바위" onclick="Game('바위')"> 
		<img src="../image/paper.png" alt="보" onclick="Game('보')"> 
		<img src="../image/scissors.png" alt="가위" onclick="Game('가위')">
	</div>

	<!-- 결과 -->
	<div class="result" id="result"></div>

	<!-- 남은금액과 베팅 -->
	<div class="status" id="status"></div>

	<script type="text/javascript">
		var choices = ['가위', '바위', '보']; 
		// choices 배열은 컴퓨터가 무작위로 선택할 수 있는 '가위', '바위', '보' 중 하나를 나타냄
		
		var resultText = document.getElementById('result'); 
		// 결과를 표시할 HTML 요소(result ID를 가진 요소)를 가리킴
		
		var statusText = document.getElementById('status'); 
		// 남은 금액과 베팅 금액을 표시할 HTML 요소(status ID를 가진 요소)를 가리킴
		
		var betting = 0; 
		// 사용자의 현재 남은 금액을 저장하는 변수. 초기값은 0
		
		//게임 시작
		function startGame() {
			var moneyInput = document.getElementById('money').value; 
			// 사용자가 입력한 초기 금액을 가져옴
			
			betting = parseInt(moneyInput); 
			// 입력받은 금액을 숫자로 변환하여 betting 변수에 저장
			
			if ( betting > 0 ) { 
				// 만약 입력된 금액이 0보다 크면 게임을 시작할 수 있음
				
				document.getElementById('gameArea').style.display = 'flex'; 
				// 게임 영역을 보여줌 (기본적으로 숨겨져 있음)
				
				statusText.textContent = '남은 금액: ' + betting + ' 원 '; 
				// 현재 남은 금액을 표시
			} else {
				alert('초기 금액이 0원 이상이어야 한다 !'); 
				// 초기 금액이 0 이하일 경우 경고 메시지를 표시
			}
		}
		
		
		function Game(me) {
			// 사용자가 가위, 바위, 보 중 하나를 클릭하면 호출되는 함수
			if (betting >= 100) { 
				// 남은 돈이 100원 이상일 때만 게임을 진행할 수 있음
				
				betting -= 100; 
				// 게임이 시작될 때마다 100원을 차감
				
				var com = choices[Math.floor(Math.random() * 3)]; 
				// 컴퓨터가 무작위로 '가위', '바위', '보' 중 하나를 선택
				
				var result; 
				// 결과를 저장할 변수
				
				//결과 계산
				if(me === com) {
					// 사용자의 선택(me)와 컴퓨터의 선택(com)이 같으면 비김
					result = ' 비겼습니다 ! ';
				} else if(
					(me === '가위' && com === '보') ||
					(me === '바위' && com === '가위') ||
					(me === '보' && com === '바위') 
					)// else if 에 대한거..
					{
					// 사용자가 이기는 경우: 가위-보, 바위-가위, 보-바위
					result = '이겼습니다 !';
				} else {
					// 이 외의 경우는 사용자가 짐
					result = ' 졌습니다.. ';
				}
				
				//결과, 베팅금액, 남은 금액 표시
				resultText.textContent = '[ 컴퓨터: ' + com +' ] ' + ' / [ 나: ' + me +' ] ' + ' // 결과: ' + result;
				// 컴퓨터의 선택, 사용자의 선택, 결과를 화면에 표시
				
				statusText.textContent = '베팅한 금액: 100원, 남은 금액: ' + betting + '원';
				// 베팅한 금액(100원)과 남은 금액을 화면에 표시
				
				//남은 금액이 0원이면 게임 종료
				if (betting < 100) {
					alert('돈이 모두 소진되었습니다. 게임이 종료됩니다.');
					// 남은 금액이 100원 미만이 되면 경고 메시지를 띄우고 게임을 종료
					
					document.getElementById('gameArea').style.display = 'none'; 
					// 게임 영역을 다시 숨김
				}
			} else {
				alert('돈이 부족하여 게임 진행 불가');
				// 남은 금액이 100원 미만일 때 게임을 더 이상 진행할 수 없음을 경고
				
				document.getElementById('gameArea').style.display = 'none'; 
				// 게임 영역을 숨김
			} 
	 	}
			
	</script>

</body>
</html>
