package board.service;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.control.CommandProcess;

import board.bean.BoardPaging;
import board.dao.BoardDAO;

public class BoardListService implements CommandProcess {

	@Override
	public String requestPro(HttpServletRequest request, HttpServletResponse response) throws Throwable {
		
		// 'pg' 파라미터를 request에서 받아옵니다. 이는 현재 페이지 번호를 나타냅니다.
	    // 사용자가 특정 페이지 번호를 클릭했을 때, 그 페이지 번호를 'pg'로 전달받아 처리합니다.
	    int pg = Integer.parseInt(request.getParameter("pg"));
	    
	    // 한 페이지당 표시할 게시글 수를 5개로 설정합니다.
	    // 따라서 'pg'에 따라 계산된 startNum과 endNum으로 해당 페이지에 표시될 게시글을 가져옵니다.
	    int endNum = pg * 5; // 현재 페이지에서 끝 번호를 계산합니다. 5개씩 보여주므로 예를 들어, 1페이지는 1~5번 글을 가져옵니다.
	    // startNum은 endNum에서 4를 뺀 값으로, 예를 들어 1페이지의 경우 1부터 시작하게 됩니다.
	    int startNum = endNum - 4; // 시작 번호는 끝 번호에서 4를 뺀 값이 됩니다. 즉, 1페이지는 1번부터 시작하게 됩니다.

	    // 데이터베이스에서 게시글을 가져오기 위해 BoardDAO_lean 객체를 생성합니다.
	    // Singleton 패턴을 사용하여 하나의 인스턴스만 사용하도록 보장합니다.
	    BoardDAO boardDAO = BoardDAO.getInstance(); 
	    // boardList 메서드를 호출하여 startNum과 endNum에 해당하는 게시글 목록을 가져옵니다.
	    // 이 메서드는 해당 페이지에 보여줄 게시글을 DB에서 가져오는 역할을 합니다.
	    //  List<BoardDTO> list = boardDAO.boardList(startNum, endNum);
	    
	    
		
		return "/projectMVC/board/boardList.do";
	}

}
