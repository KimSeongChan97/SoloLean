<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ page import="member.dao.MemberDAO" %>
    
<%
    // 클라이언트가 입력한 id 값을 가져옴
    String id = request.getParameter("id");

    // MemberDAO 객체 생성 및 DB 연결 (싱글톤 패턴을 사용한 경우)
    MemberDAO memberDAO = MemberDAO.getInstance(); // 싱글톤 객체 가져오기

    // id 중복 여부 확인 (true: 중복됨, false: 사용 가능)
    boolean exist = memberDAO.idExist(id); // idExist 메서드는 해당 id가 DB에 있는지 확인
%>
    
    
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ID 중복체크</title>
<style>
    /* 닫기 버튼 스타일 */
    .close-button {
        display: block;
        margin: 30px auto; /* 버튼을 페이지 중앙 하단에 배치 */
        padding: 10px 20px;
        background-color: #f2f2f2; /* 요청한 배경 색상 */
        border: 1px solid #ccc;
        border-radius: 4px;
        text-align: center;
        cursor: pointer;
        font-size: 14px;
        color: #333;
    }
    .close-button:hover {
        background-color: #e0e0e0; /* 버튼에 마우스를 올렸을 때 색상이 약간 어두워짐 */
    }
</style>
<script>
    // 닫기 버튼 클릭 시 호출되는 함수
    function Close() {
        window.close();
    }
</script>
</head>
<body>

<%
    // 존재 여부에 따른 메시지 출력
    if (exist) {
%>
    <p><%=id %> _ 이미 사용 중인 아이디입니다. 다른 아이디를 입력하세요.</p>
    <br/>
<%
    } else {
%>
    <p><%=id %> _ 사용 가능한 아이디입니다. 계속 진행해주세요.</p>
<%
    }
%>

<!-- 닫기 버튼 -->
<div class="close-button" onclick="Close()">
    닫기
</div>

</body>
</html>
