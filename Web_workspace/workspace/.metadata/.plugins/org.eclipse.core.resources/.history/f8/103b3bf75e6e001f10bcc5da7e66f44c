<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@page import="board.dao.BoardDAO_lean"%>
<%@page import="board.bean.BoardDTO"%>
<%@page import="java.util.List"%>
    
    <%
   
 		// 'pg' 파라미터를 받아옵니다. (pg 파라미터가 null이 아닐 때만 사용)
		    // request.getParameter("pg")에서 값을 받아서 처리하는 방식
		    int pg = 1; // 기본값 1을 설정
		    if (request.getParameter("pg") != null) {
		        pg = Integer.parseInt(request.getParameter("pg"));  // pg 파라미터가 존재하면 이를 정수로 변환
		    }
		    
	    // 1페이지당 5개씩
	    int endNum = pg * 5;
	    int startNum = endNum - 4;
    	
    	BoardDAO_lean boardDAO_lean = BoardDAO_lean.getInstance();
    	List<BoardDTO> list = boardDAO_lean.boardList(startNum, endNum);
    	
    	
    	
    %>
    
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
table {
    border-collapse: collapse; 
}
th,td{
    padding:7px;
}

</style>
</head>
<body>

	<table border="1" frame="hsides" >
		<tr>
			<th width="100"> 글번호 </th>
			<th width="400"> 제목 </th>
			<th width="150"> 작성자 </th>
			<th width="150"> 작성일 </th>
			<th width="100"> 조회수 </th>
			
		</tr>
		
		<% if(list != null){ %>
			<% for(BoardDTO boardDTO : list) { %>
				<tr>
					<td align="center"><%=boardDTO.getSeq() %></td>
					<td><%=boardDTO.getSubject() %></td>
					<td align="center"><%=boardDTO.getId() %></td>
					<td align="center"><%=boardDTO.getLogtime() %></td>
					<td align="center"><%=boardDTO.getHit() %></td>
				</tr>
			
				<% }// for %>
				<% } // if %>
	</table>

</body>
</html>