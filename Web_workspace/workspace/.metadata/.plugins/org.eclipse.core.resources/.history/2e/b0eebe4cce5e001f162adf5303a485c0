<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>가위바위보 게임 만들기</title>
<style type="text/css">
body {
	text-align: center;
	font-family: Arial, sans-serif;
	background-color: #f4f4f4;
	margin: 0;
	padding: 20px;
}

.choices {
	display: flex;
	justify-content: center;
	margin-top: 20px;
	gap: 20px;
}

.choices img {
	width: 100px;
	height: 100px;
	margin: 0 40px;
	cursor: pointer;
}

.result {
	margin-top: 30px;
	font-size: 30px;
	font-weight: bold;
}

.status {
	margin-top: 20px;
	font-size: 20px;
	font-weight: bold;
}

</style>
</head>
<body>

	<h1>가위 바위 보 게임</h1>

	<!-- 입력 -->
	<div>
		<label for="money">초기 금액을 입력하세요 (원): </label> <input type="number"
			id="money" value="1000">
		<button onclick="startGame()">게임 시작</button>
	</div>

	<!-- 선택 -->
	<div class="choises" id="gameArea" style="display: none;">
		<img src="../image/rock.png" alt="바위" onclick="Game('바위')"> <img
			src="../image/paper.png" alt="보" onclick="Game('보')"> <img
			src="../image/scissors.png" alt="가위" onclick="Game('가위')">
	</div>

	<!-- 결과 -->
	<div class="result" id="result"></div>

	<!-- 남은금액과 베팅 -->
	<div class="status" id="status"></div>

	<script type="text/javascript">
		var choices = ['가위', '바위', '보'];
		var resultText = document.getElementById('result');
		var statusText = document.getElementById('status');
		var betting = 0;
		
		//게임 시작
		function startGame() {
			var moneyInput = document.getElementById('money').value;
			betting = parseInt(moneyInput); // 입력받은 값 숫자로 변환
				if ( betting > 0 ) {
					document.getElementById('gameArea').style.display = 'flex';
					statusText.textContent = '남은 금액: ' + betting + ' 원 '; 
				} else {
					alert('초기 금액이 0원 이상이어야 한다 !');
				}
		}
		
		
		function Game(me) {
			if (betting >= 100) {
				betting -= 100; // 게임당 100원 차감
				
				var com = choices[Math.floor(Math.random() * 3)];
				var result;
				
				//결과 계산
				if(me === com) {
					result = ' 비겼습니다 ! ';
				} else if(
					(me === '가위' && com === '보') ||
					(me === '바위' && com === '가위') ||
					(me === '보' && com === '바위') 
					)// else if 에 대한거..
					{
					result = '이겼습니다 !';
				} else {
					result = ' 졌습니다.. ';
				}
				
				//결과, 베팅금액, 남은 금액 표시
				resultText.textContent = '[ 컴퓨터: ' + com +' ] ' + ' / [ 나: ' + me +' ] ' + ' // 결과: ' + result;
                statusText.textContent = '베팅한 금액: 100원, 남은 금액: ' + betting + '원';
                
                //남은 금액이 0원이면 게임 종료
                if (betting < 100) {
                	alert('돈이 모두 소진되었습니다. 게임이 종료됩니다.');
                	document.getElementById('gameArea').style.display = 'none'; // 게임 선택지 none
                }
			} else {
				alert('돈이 부족하여 게임 진행 불가');
				document.getElementById('gameArea').style.display = 'none';
			} 
	 	}
			
	</script>

</body>
</html>