<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ page import="java.sql.*" %>
<%
    try {
        Class.forName("oracle.jdbc.driver.OracleDriver");
        Connection conn = DriverManager.getConnection("jdbc:oracle:thin:@localhost:1521:XE", "hr", "hr");

        String sql = "SELECT SEQ, SUBJECT, MEMBER_ID, LOGTIME FROM BOARD ORDER BY LOGTIME DESC";
        Statement stmt = conn.createStatement();
        ResultSet rs = stmt.executeQuery(sql);

        while(rs.next()) {
%>
            <tr>
                <td><%= rs.getInt("SEQ") %></td>
                <td><a href="view_post.jsp?seq=<%= rs.getInt("SEQ") %>"><%= rs.getString("SUBJECT") %></a></td>
                <td><%= rs.getString("MEMBER_ID") %></td>
                <td><%= rs.getTimestamp("LOGTIME") %></td>
                <td>0</td>
                <td>
                    <a href="edit_post.jsp?seq=<%= rs.getInt("SEQ") %>">수정</a> |
                    <a href="delete_post.jsp?seq=<%= rs.getInt("SEQ") %>">삭제</a>
                </td>
            </tr>
<%
        }

        rs.close();
        stmt.close();
        conn.close();
    } catch(Exception e) {
        e.printStackTrace();
        out.println("오류 발생: " + e.getMessage());
    }
%>
