<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@page import="board.bean.BoardDTO"%>
<%@page import="java.util.List"%>
<%@page import="board.bean.BoardPaging"%>

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>게시판 목록</title>
    
    <!-- 부트스트랩 CSS 파일을 링크 -->
    <!-- 이 부분은 부트스트랩을 사용하여 기본적인 스타일을 적용하기 위한 링크입니다.
         'https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css' 링크를 통해
         외부에서 부트스트랩 스타일시트를 불러옵니다. 이를 통해 테이블, 페이지네이션 등의 스타일을 쉽게 적용할 수 있습니다. -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <!-- 프로젝트 내의 커스텀 CSS 파일을 적용 -->
    <!-- 이 부분은 'boardlist.css'라는 커스텀 CSS 파일을 불러오는 링크입니다. 이 파일은 현재 JSP 파일과 같은 프로젝트 내의
         '/css' 폴더에 위치해 있으며, 네온 색상 및 사이버펑크 스타일을 적용하기 위한 커스텀 CSS입니다. -->
    <link rel="stylesheet" href="${ pageContext.request.contextPath }/css/boardlist.css">
</head>
<body>

    <!-- 테이블을 정의하는 부분 -->
    <!-- 'table-dark'과 'table-hover' 클래스를 사용하여 어두운 테마의 테이블을 만들고, 마우스를 올렸을 때 행의 색상이 바뀌는 효과를 적용 -->
    <table class="table table-dark table-hover">
        <thead>
            <tr>
                <th scope="col">글번호</th> <!-- 글번호 열 -->
                <th scope="col">제목</th> <!-- 제목 열 -->
                <th scope="col">작성자</th> <!-- 작성자 열 -->
                <th scope="col">작성일</th> <!-- 작성일 열 -->
                <th scope="col">조회수</th> <!-- 조회수 열 -->
            </tr>
        </thead>
        <tbody>
        <% 
            // request 객체에 담겨 있는 "list"라는 속성에서 BoardDTO 객체 리스트를 가져옵니다.
            // 이 리스트는 DB에서 가져온 게시글 목록으로, 각 BoardDTO 객체는 하나의 게시글 정보를 담고 있습니다.
            List<BoardDTO> list = (List<BoardDTO>) request.getAttribute("list");
            
            // list가 null이 아니면 리스트에 담긴 게시글 정보를 화면에 출력합니다.
            if (list != null) {
                for (BoardDTO boardDTO : list) { 
                    // 각각의 boardDTO는 한 개의 게시글 정보를 담고 있습니다.
        %>
            <tr>
                <!-- 각 열에 boardDTO 객체의 속성 값들을 출력하여 게시글 정보를 테이블에 보여줍니다. -->
                <td align="center"><%= boardDTO.getSeq() %></td> <!-- 글번호를 출력합니다. -->
                <td><%= boardDTO.getSubject() %></td> <!-- 제목을 출력합니다. -->
                <td align="center"><%= boardDTO.getId() %></td> <!-- 작성자의 아이디를 출력합니다. -->
                <td align="center"><%= boardDTO.getLogtime() %></td> <!-- 작성일을 출력합니다. -->
                <td align="center"><%= boardDTO.getHit() %></td> <!-- 조회수를 출력합니다. -->
            </tr>
        <% 
                } 
            } 
        %>
        </tbody>
    </table>

    <!-- 클릭 시 메인 화면으로 이동하는 링크 -->
    <!-- 이 부분은 'index.do' 페이지로 이동하는 링크입니다. 사용자가 클릭하면 메인 페이지로 이동합니다. -->
    <div onclick="location.href='/projectMVC/index.do'" align="center" style="cursor: pointer;">
        index로 
    </div>
    
    <hr/> 

    <!-- 부트스트랩을 활용한 페이지네이션 -->
    <!-- 아래 부분은 페이지네이션을 표시하는 부분입니다. BoardPaging 클래스에서 생성된 페이징 HTML을 출력합니다. -->
    <!-- 'BoardPaging' 객체는 게시판의 현재 페이지 정보를 담고 있으며, getPagingHTML() 메서드를 통해 페이지네이션 HTML을 생성합니다. -->
    <div style="text-align: center; width: 800px; margin-top: 15px;">
        <%= ((BoardPaging) request.getAttribute("boardPaging")).getPagingHTML() %>
        <!-- 'request.getAttribute("boardPaging")'은 서블릿이나 다른 클래스에서 설정한 페이지네이션 객체를 가져오는 역할을 합니다. -->
        <!-- 그 객체에서 'getPagingHTML()'을 호출하여 동적으로 생성된 HTML 페이지네이션 코드를 JSP에 삽입합니다. -->
    </div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script> <!-- jQuery 라이브러리 -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script> <!-- 부트스트랩 JS -->
<!-- 위의 두 스크립트는 부트스트랩의 기능을 지원하는 자바스크립트 파일입니다. 부트스트랩의 대화형 기능(예: 모달, 드롭다운 등)을 사용할 때 필요합니다. -->
</body>
</html>
