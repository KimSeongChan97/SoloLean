<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="userSQL">
    <!-- MyBatis 매퍼 파일입니다. 이 파일은 SQL 쿼리를 정의하고 Java 코드와 매핑하는 역할을 합니다.
         namespace="userSQL": 이 매퍼 파일이 사용하는 네임스페이스를 'userSQL'로 지정합니다.
         네임스페이스는 여러 매퍼 파일에서 같은 SQL ID를 사용하지 않도록 구분하는 역할을 합니다. -->

    <!-- 이름으로 구분 -->
    <!-- insert 태그: 데이터베이스에 새로운 데이터를 삽입하는 SQL 쿼리를 정의합니다. -->
    <insert id="write" parameterType="user.bean.UserDTO">
        <!-- id="write": 이 insert 쿼리의 고유 식별자입니다. MyBatis는 이 식별자를 통해 Java 코드에서 이 SQL을 호출할 수 있습니다.
             parameterType="user.bean.UserDTO": 이 쿼리에 전달될 파라미터 타입을 지정합니다. 'user.bean.UserDTO'는 Java 클래스이며, 이 클래스의 인스턴스가 파라미터로 전달됩니다.
             이 클래스에는 'name', 'id', 'pwd' 같은 필드가 있을 것이며, 이 필드들이 SQL 쿼리에 맵핑됩니다. -->

        <!-- insert into usertable values(?, ?, ?) -->
        <!-- 주석에서 설명하는 바와 같이, 실제로는 '?' 자리에 파라미터 값이 들어가게 됩니다.
             MyBatis는 '#{필드명}'을 통해 Java 객체의 필드 값을 SQL 쿼리에 바인딩합니다. -->

        insert into usertable values(#{name}, #{id}, #{pwd})
        <!-- SQL 쿼리: 'usertable'이라는 테이블에 데이터를 삽입하는 쿼리입니다.
             #{name}, #{id}, #{pwd}는 MyBatis의 바인딩 표현식입니다. 
             - #{name}: UserDTO 객체의 'name' 필드 값을 가져와 이 자리에 삽입합니다.
             - #{id}: UserDTO 객체의 'id' 필드 값을 가져옵니다.
             - #{pwd}: UserDTO 객체의 'pwd' 필드 값을 가져옵니다.
             이를 통해 Java 코드에서 전달된 객체의 필드 값을 쿼리에 반영할 수 있습니다.
             SQL 주입 공격을 방지하기 위해 MyBatis는 자동으로 이 값을 적절히 처리해 줍니다. -->
    </insert>
    
    <select id="getAllList" resultType="user.bean.UserDTO"></select>
</mapper>
